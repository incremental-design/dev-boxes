(()=>{"use strict";var e={n:n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},d:(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};const n=require("cac");var t=e.n(n);const r=require("prompts");var o=e.n(r);const a=require("dotenv");var i=e.n(a);const c=require("do-wrapper");var s=e.n(c);var u,l=function(){function e(){this._name=""}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!1,configurable:!0}),e.prototype.setName=function(e){return this.name=e,this},e.prototype.provisionOn=function(e){switch(+e){case u.digitalOcean:return function(e){var n={name:"another",region:"nyc3",size:"s-1vcpu-1gb",image:"rancheros",ssh_keys:[27608986,28496457],backups:!1,ipv6:!0,private_networking:null,user_data:null,volumes:null,tags:[]};n=Object.assign(n,e);var t=function(){var e=process.env.DIGITAL_OCEAN_PERSONAL_ACCESS_TOKEN;if(null==e.length)throw"Digital Ocean Personal Access Token has not been set in `.env`. Cannot access digital ocean API";return e}();return new(s())(t).droplets.create(n).then((function(e){return e}))}({name:this.name});case u.aws:throw new Error("Sorry, I haven't written any code to provision rancher on AWS. If you want to add the code in, check out this project and go to src/provisionRancherOnDigitalOcean/RancherOSConfig.ts and modify the code.");default:throw new Error('${cloud} isn\'t a supported cloud provider. You must specify either "aws" or "digitalOcean".')}},e}();!function(e){e[e.digitalOcean=0]="digitalOcean",e[e.aws=1]="aws"}(u||(u={}));i().config(),t()().parse();var p,f,h,d,v=[{type:"text",name:"dropletName",message:"What do you want to name your droplet?",initial:"rancher"}],y=new l;p=void 0,f=void 0,d=function(){var e,n;return function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(t){switch(t.label){case 0:return[4,o()(v)];case 1:return e=t.sent(),[4,y.setName(e.dropletName).provisionOn(u.digitalOcean)];case 2:return n=t.sent(),console.log(n),[2]}}))},new((h=void 0)||(h=Promise))((function(e,n){function t(e){try{o(d.next(e))}catch(e){n(e)}}function r(e){try{o(d.throw(e))}catch(e){n(e)}}function o(n){var o;n.done?e(n.value):(o=n.value,o instanceof h?o:new h((function(e){e(o)}))).then(t,r)}o((d=d.apply(p,f||[])).next())}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbnNpYmxlLXNldHVwLW93bmNsb3VkL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2Fuc2libGUtc2V0dXAtb3duY2xvdWQvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vYW5zaWJsZS1zZXR1cC1vd25jbG91ZC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vYW5zaWJsZS1zZXR1cC1vd25jbG91ZC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2Fuc2libGUtc2V0dXAtb3duY2xvdWQvZXh0ZXJuYWwgXCJjYWNcIiIsIndlYnBhY2s6Ly9hbnNpYmxlLXNldHVwLW93bmNsb3VkL2V4dGVybmFsIFwicHJvbXB0c1wiIiwid2VicGFjazovL2Fuc2libGUtc2V0dXAtb3duY2xvdWQvZXh0ZXJuYWwgXCJkb3RlbnZcIiIsIndlYnBhY2s6Ly9hbnNpYmxlLXNldHVwLW93bmNsb3VkL2V4dGVybmFsIFwiZG8td3JhcHBlclwiIiwid2VicGFjazovL2Fuc2libGUtc2V0dXAtb3duY2xvdWQvLi9zcmMvcHJvdmlzaW9uUmFuY2hlck9uRGlnaXRhbE9jZWFuL1JhbmNoZXJPU0NvbmZpZy50cyIsIndlYnBhY2s6Ly9hbnNpYmxlLXNldHVwLW93bmNsb3VkLy4vc3JjL3Byb3Zpc2lvblJhbmNoZXJPbkRpZ2l0YWxPY2Vhbi9wcm92aXNpb25PbkRpZ2l0YWxPY2Vhbi50cyIsIndlYnBhY2s6Ly9hbnNpYmxlLXNldHVwLW93bmNsb3VkLy4vc3JjL3Byb3Zpc2lvblJhbmNoZXJPbkRpZ2l0YWxPY2Vhbi9nZXREaWdpdGFsT2NlYW5QZXJzb25hbEFjY2Vzc1Rva2VuLnRzIiwid2VicGFjazovL2Fuc2libGUtc2V0dXAtb3duY2xvdWQvLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZSIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJyZXF1aXJlIiwiY2xvdWRQcm92aWRlcnMiLCJfbmFtZSIsInRoaXMiLCJuZXdOYW1lIiwic2V0TmFtZSIsIm5hbWUiLCJwcm92aXNpb25PbiIsImNsb3VkIiwiZGlnaXRhbE9jZWFuIiwiY29uZmlnT2JqZWN0IiwicmFuY2hlckluc3RhbmNlIiwicmVnaW9uIiwic2l6ZSIsImltYWdlIiwic3NoX2tleXMiLCJiYWNrdXBzIiwiaXB2NiIsInByaXZhdGVfbmV0d29ya2luZyIsInVzZXJfZGF0YSIsInZvbHVtZXMiLCJ0YWdzIiwiYXNzaWduIiwiYXV0aFRva2VuIiwicHJvY2VzcyIsImVudiIsIkRJR0lUQUxfT0NFQU5fUEVSU09OQUxfQUNDRVNTX1RPS0VOIiwidW5kZWZpbmVkIiwibGVuZ3RoIiwiZHJvcGxldHMiLCJjcmVhdGUiLCJ0aGVuIiwicmVzcG9uc2UiLCJwcm92aXNpb25PbkRpZ2l0YWxPY2VhbiIsImF3cyIsIkVycm9yIiwicGFyc2UiLCJxdWVzdGlvbnMiLCJ0eXBlIiwibWVzc2FnZSIsImluaXRpYWwiLCJyYW5jaGVyQ29uZmlnIiwiUmFuY2hlck9TQ29uZmlnIiwiYW5zd2VycyIsImRyb3BsZXROYW1lIiwiZHJvcGxldCIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiJtQkFDQSxJQUFJQSxFQUFzQixDQ0ExQixFQUF5QkMsSUFDeEIsSUFBSUMsRUFBU0QsR0FBVUEsRUFBT0UsV0FDN0IsSUFBTUYsRUFBZ0IsUUFDdEIsSUFBTUEsRUFFUCxPQURBRCxFQUFvQkksRUFBRUYsRUFBUSxDQUFFRyxFQUFHSCxJQUM1QkEsR0NMUixFQUF3QixDQUFDSSxFQUFTQyxLQUNqQyxJQUFJLElBQUlDLEtBQU9ELEVBQ1hQLEVBQW9CUyxFQUFFRixFQUFZQyxLQUFTUixFQUFvQlMsRUFBRUgsRUFBU0UsSUFDNUVFLE9BQU9DLGVBQWVMLEVBQVNFLEVBQUssQ0FBRUksWUFBWSxFQUFNQyxJQUFLTixFQUFXQyxNQ0ozRSxFQUF3QixDQUFDTSxFQUFLQyxJQUFTTCxPQUFPTSxVQUFVQyxlQUFlQyxLQUFLSixFQUFLQyxJQ0FqRixNQUFNLEVBQStCSSxRQUFRLE8sYUNBN0MsTUFBTSxFQUErQkEsUUFBUSxXLGFDQTdDLE1BQU0sRUFBK0JBLFFBQVEsVSxhQ0E3QyxNQUFNLEVBQStCQSxRQUFRLGMsYUNJN0MsSUEwQ1lDLEVBMUNaLGFBR0UsYUFGUSxLQUFBQyxNQUFnQixHQXVDMUIsT0FuQ0Usc0JBQUksbUJBQUksQyxJQUFSLFdBQ0UsT0FBT0MsS0FBS0QsTyxJQUVkLFNBQVNFLEdBQ1BELEtBQUtELE1BQVFFLEcsZ0NBSWYsWUFBQUMsUUFBQSxTQUFRRCxHQUVOLE9BREFELEtBQUtHLEtBQU9GLEVBQ0xELE1BR1QsWUFBQUksWUFBQSxTQUNFQyxHQUVBLFFBQVNBLEdBTVAsS0FBS1AsRUFBZVEsYUFFbEIsT0M5QkQsU0FDTEMsR0FFQSxJQUFJQyxFQUEwQixDQUM1QkwsS0FBTSxVQUNOTSxPQUFRLE9BQ1JDLEtBQU0sY0FDTkMsTUFBTyxZQUNQQyxTQUFVLENBQUMsU0FBVSxVQUNyQkMsU0FBUyxFQUNUQyxNQUFNLEVBQ05DLG1CQUFvQixLQUNwQkMsVUFBVyxLQUNYQyxRQUFTLEtBQ1RDLEtBQU0sSUFHUlYsRUFBa0JwQixPQUFPK0IsT0FBT1gsRUFBaUJELEdBRWpELElBQU1hLEVDdEJPLFdBT2IsSUFBTUEsRUFBWUMsUUFBUUMsSUFBSUMsb0NBRTlCLEdBTG1EQyxNQUtoQkosRUFMTUssT0FNdkMsS0FBTSxrR0FFUixPQUFPTCxFRFVXLEdBRWxCLE9BRDRCLElBQUksSUFBSixDQUFpQkEsR0FFdkJNLFNBRWpCQyxPQUFPbkIsR0FDUG9CLE1BQUssU0FBQ0MsR0FDTCxPQUFPQSxLRElBQyxDQURNLENBQUUzQixLQUFNSCxLQUFLRyxPQUU1QixLQUFLTCxFQUFlaUMsSUFDbEIsTUFBTSxJQUFJQyxNQUNSLDhNQUVKLFFBQ0UsTUFBTSxJQUFJQSxNQUNSLGtHQUlWLEVBeENBLElBMENBLFNBQVlsQyxHQUNWLG1DQUNBLGlCQUZGLENBQVlBLE1BQWMsS0d0QzFCLGFBRVksTUFDT21DLFFBRG5CLEksUUFVTUMsRUFBeUMsQ0FDN0MsQ0FDRUMsS0FBTSxPQUNOaEMsS0FBTSxjQUNOaUMsUUFBUyx5Q0FDVEMsUUFBUyxZQUlQQyxFQUFnQixJQUFJQyxFLE9BRXpCLEUsT0FBQSxFLEVBQUEsVyw2bENBQ2lCLFNBQU0sSUFBUUwsSSxPQUNkLE9BRFZNLEVBQVUsU0FDQSxHQUFNRixFQUNuQnBDLFFBQVFzQyxFQUFRQyxhQUNoQnJDLFlBQVlOLEVBQWVRLGUsY0FGeEJvQyxFQUFVLFNBR2hCQyxRQUFRQyxJQUFJRixHLHFCQUxiLEsiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gbW9kdWxlWydkZWZhdWx0J10gOlxuXHRcdCgpID0+IG1vZHVsZTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJjYWNcIik7OyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwicHJvbXB0c1wiKTs7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJkb3RlbnZcIik7OyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiZG8td3JhcHBlclwiKTs7IiwiaW1wb3J0IHtcbiAgcHJvdmlzaW9uT25EaWdpdGFsT2NlYW4sXG4gIGRpZ2l0YWxPY2VhbkNyZWF0ZURyb3BsZXRSZXNwb25zZSxcbn0gZnJvbSBcIi4vcHJvdmlzaW9uT25EaWdpdGFsT2NlYW5cIjtcbmV4cG9ydCBjbGFzcyBSYW5jaGVyT1NDb25maWcge1xuICBwcml2YXRlIF9uYW1lOiBzdHJpbmcgPSBcIlwiO1xuXG4gIGNvbnN0cnVjdG9yKCkge30gLy9JJ20gbGVhdmluZyB0aGUgY29uc3RydWN0b3IgYmxhbmsgYmVjYXVzZSB3ZSdsbCBpbml0aWFsaXplIGFsbCB2YXJpYWJsZXMgd2l0aCBjaGFpbmFibGUgc2V0dGVyc1xuXG4gIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gIH1cbiAgc2V0IG5hbWUobmV3TmFtZTogc3RyaW5nKSB7XG4gICAgdGhpcy5fbmFtZSA9IG5ld05hbWU7XG4gICAgLy8gVE9ETzogc2FuaXRpemUgY2hhcmFjdGVycyB0aGF0IGRvbid0IGJlbG9uZyBpbiBkaWdpdGFsIG9jZWFuIGRyb3BsZXQgbmFtZXNcbiAgfVxuXG4gIHNldE5hbWUobmV3TmFtZTogc3RyaW5nKSB7XG4gICAgdGhpcy5uYW1lID0gbmV3TmFtZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHByb3Zpc2lvbk9uKFxuICAgIGNsb3VkOiBjbG91ZFByb3ZpZGVyc1xuICApOiBQcm9taXNlPGRpZ2l0YWxPY2VhbkNyZWF0ZURyb3BsZXRSZXNwb25zZT4ge1xuICAgIHN3aXRjaCAoK2Nsb3VkKSB7XG4gICAgICAvKlxuICAgICAgICBhcmd1bWVudCAnY2xvdWQnIGhhcyB0byBiZSBjYXN0IHRvIGEgbnVtYmVyIGluIG9yZGVyIHRvIGJlIGNvbXBhcmFibGUgaW4gYSBzd2l0Y2ggc3RhdGVtZW50LlxuICAgICAgICBUaGlzIHdvcmtzIGJlY2F1c2UgZW51bXMgYXJlIGFjdHVhbGx5IGEgdHlwZSBvZiBudW1iZXIgLi4uIHRoZSBuYW1lIG9mIGVhY2ggZW51bWVyYWJsZSB2YWx1ZSBpcyBqdXN0IHN5bnRhY3RpYyBzdWdhci5cbiAgICAgICAgZm9yIG1vcmUgaW5mbyBzZWU6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI3NzQ3NDM3L3R5cGVzY3JpcHQtZW51bS1zd2l0Y2gtbm90LXdvcmtpbmdcbiAgICAgICovXG4gICAgICBjYXNlIGNsb3VkUHJvdmlkZXJzLmRpZ2l0YWxPY2VhbjpcbiAgICAgICAgbGV0IGNvbmZpZyA9IHsgbmFtZTogdGhpcy5uYW1lIH07XG4gICAgICAgIHJldHVybiBwcm92aXNpb25PbkRpZ2l0YWxPY2Vhbihjb25maWcpO1xuICAgICAgY2FzZSBjbG91ZFByb3ZpZGVycy5hd3M6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBcIlNvcnJ5LCBJIGhhdmVuJ3Qgd3JpdHRlbiBhbnkgY29kZSB0byBwcm92aXNpb24gcmFuY2hlciBvbiBBV1MuIElmIHlvdSB3YW50IHRvIGFkZCB0aGUgY29kZSBpbiwgY2hlY2sgb3V0IHRoaXMgcHJvamVjdCBhbmQgZ28gdG8gc3JjL3Byb3Zpc2lvblJhbmNoZXJPbkRpZ2l0YWxPY2Vhbi9SYW5jaGVyT1NDb25maWcudHMgYW5kIG1vZGlmeSB0aGUgY29kZS5cIlxuICAgICAgICApO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICcke2Nsb3VkfSBpc25cXCd0IGEgc3VwcG9ydGVkIGNsb3VkIHByb3ZpZGVyLiBZb3UgbXVzdCBzcGVjaWZ5IGVpdGhlciBcImF3c1wiIG9yIFwiZGlnaXRhbE9jZWFuXCIuJ1xuICAgICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZW51bSBjbG91ZFByb3ZpZGVycyB7XG4gIGRpZ2l0YWxPY2VhbixcbiAgYXdzLFxufVxuIiwiaW1wb3J0IERpZ2l0YWxPY2VhbiBmcm9tIFwiZG8td3JhcHBlclwiO1xuaW1wb3J0IGdldEF1dGhUb2tlbiBmcm9tIFwiLi9nZXREaWdpdGFsT2NlYW5QZXJzb25hbEFjY2Vzc1Rva2VuXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm92aXNpb25PbkRpZ2l0YWxPY2VhbihcbiAgY29uZmlnT2JqZWN0OiBvYmplY3Rcbik6IFByb21pc2U8ZGlnaXRhbE9jZWFuQ3JlYXRlRHJvcGxldFJlc3BvbnNlPiB7XG4gIGxldCByYW5jaGVySW5zdGFuY2U6IG9iamVjdCA9IHtcbiAgICBuYW1lOiBcImFub3RoZXJcIixcbiAgICByZWdpb246IFwibnljM1wiLFxuICAgIHNpemU6IFwicy0xdmNwdS0xZ2JcIixcbiAgICBpbWFnZTogXCJyYW5jaGVyb3NcIixcbiAgICBzc2hfa2V5czogWzI3NjA4OTg2LCAyODQ5NjQ1N10sXG4gICAgYmFja3VwczogZmFsc2UsXG4gICAgaXB2NjogdHJ1ZSxcbiAgICBwcml2YXRlX25ldHdvcmtpbmc6IG51bGwsXG4gICAgdXNlcl9kYXRhOiBudWxsLFxuICAgIHZvbHVtZXM6IG51bGwsXG4gICAgdGFnczogW10sXG4gIH07XG5cbiAgcmFuY2hlckluc3RhbmNlID0gT2JqZWN0LmFzc2lnbihyYW5jaGVySW5zdGFuY2UsIGNvbmZpZ09iamVjdCk7XG5cbiAgY29uc3QgYXV0aFRva2VuID0gZ2V0QXV0aFRva2VuKCk7XG4gIGNvbnN0IGRpZ2l0YWxPY2VhbldyYXBwZXIgPSBuZXcgRGlnaXRhbE9jZWFuKGF1dGhUb2tlbik7XG4gIHJldHVybiAoXG4gICAgZGlnaXRhbE9jZWFuV3JhcHBlci5kcm9wbGV0c1xuICAgICAgLy8gQHRzLWlnbm9yZTogdHlwZXMgZm9yIHJhbmNoZXJJbnN0YW5jZSBhcmUgbm90IGNvbXBhdGlibGVcbiAgICAgIC5jcmVhdGUocmFuY2hlckluc3RhbmNlKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgIH0pXG4gICk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgZGlnaXRhbE9jZWFuQ3JlYXRlRHJvcGxldFJlc3BvbnNlIHtcbiAgaWQ6IGJpZ2ludDtcbiAgbmFtZTogc3RyaW5nO1xuICBtZW1vcnlJbk1lZ2FieXRlczogYmlnaW50O1xuICB2Y3B1czogYmlnaW50O1xuICBkaXNrOiBiaWdpbnQ7XG4gIGxvY2tlZDogYm9vbGVhbjtcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICBzdGF0dXM6IHN0cmluZztcbiAgYmFja3VwX2lkczogQXJyYXk8YW55PjtcbiAgc25hcHNob3RfaWRzOiBBcnJheTxhbnk+O1xuICBmZWF0dXJlczogQXJyYXk8YW55PjtcbiAgcmVnaW9uOiBvYmplY3Q7XG4gIGltYWdlOiBvYmplY3Q7XG4gIHNpemU6IG9iamVjdDtcbiAgc2l6ZV9zbHVnOiBzdHJpbmc7XG4gIG5ldHdvcmtzOiBvYmplY3Q7XG4gIGtlcm5lbDogb2JqZWN0IHwgbnVsbDtcbiAgbmV4dF9iYWNrdXBfd2luZG93OiBvYmplY3QgfCBudWxsO1xuICB0YWdzOiBBcnJheTxhbnk+O1xuICB2b2x1bWVfaWRzOiBBcnJheTxhbnk+O1xuICB2cGNfdXVpZDogU3RyaW5nO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCk6IHN0cmluZyB7XG4gIGZ1bmN0aW9uIHBlcnNvbmFsQWNjZXNzVG9rZW5Jc1VuZGVmaW5lZChcbiAgICBwZXJzb25hbEFjY2Vzc1Rva2VuOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgKTogcGVyc29uYWxBY2Nlc3NUb2tlbiBpcyB1bmRlZmluZWQge1xuICAgIHJldHVybiAocGVyc29uYWxBY2Nlc3NUb2tlbiBhcyBzdHJpbmcpLmxlbmd0aCA9PSB1bmRlZmluZWQ7XG4gIH1cblxuICBjb25zdCBhdXRoVG9rZW4gPSBwcm9jZXNzLmVudi5ESUdJVEFMX09DRUFOX1BFUlNPTkFMX0FDQ0VTU19UT0tFTjtcblxuICBpZiAocGVyc29uYWxBY2Nlc3NUb2tlbklzVW5kZWZpbmVkKGF1dGhUb2tlbikpIHtcbiAgICB0aHJvdyBcIkRpZ2l0YWwgT2NlYW4gUGVyc29uYWwgQWNjZXNzIFRva2VuIGhhcyBub3QgYmVlbiBzZXQgaW4gYC5lbnZgLiBDYW5ub3QgYWNjZXNzIGRpZ2l0YWwgb2NlYW4gQVBJXCI7XG4gIH1cbiAgcmV0dXJuIGF1dGhUb2tlbjtcbn1cbiIsImltcG9ydCBjYWMgZnJvbSBcImNhY1wiO1xuaW1wb3J0IHByb21wdHMgZnJvbSBcInByb21wdHNcIjtcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiO1xuaW1wb3J0IHtcbiAgUmFuY2hlck9TQ29uZmlnLFxuICBjbG91ZFByb3ZpZGVycyxcbn0gZnJvbSBcIi4vcHJvdmlzaW9uUmFuY2hlck9uRGlnaXRhbE9jZWFuL1JhbmNoZXJPU0NvbmZpZ1wiO1xuXG5kb3RlbnYuY29uZmlnKCk7IC8vIHdlIHdhbnQgdG8gaW5pdGlhbGl6ZSBvdXIgZW52aXJvbm1lbnQgdmFyaWFibGVzIGF0IHRoZSB2ZXJ5IGJlZ2lubmluZyBvZiB0aGUgcHJvZ3JhbS4gUmlnaHQgbm93IHRoZXkgYXJlIG5lZWRlZCBpbiBwcm92aXNpb25SYW5jaGVyT25EaWdpdGFsT2NlYW4vZ2V0RGlnaXRhbE9jZWFuUGVyc29uYWxBY2Nlc3NUb2tlbi50c1xuXG5jb25zdCBjbGkgPSBjYWMoKTtcbmNvbnN0IHBhcnNlZCA9IGNsaS5wYXJzZSgpO1xuXG4vLyBjb25zdCBwcm9tcHRzQ29uZmlnOiBQcm9tcHRPYmplY3QgPSB7XG4vLyAgIHR5cGU6IFwibnVtYmVyXCIsXG4vLyAgIG5hbWU6IFwidmFsdWVcIixcbi8vICAgbWVzc2FnZTogXCJob3cgb2xkIGFyZSB5b3VcIixcbi8vICAgdmFsaWRhdGU6ICh2YWx1ZTogbnVtYmVyKSA9PiAodmFsdWUgPCAxOCA/IGBOaWdodGNsdWIgaXMgMTgrIG9ubHlgIDogdHJ1ZSksXG4vLyB9O1xuXG5jb25zdCBxdWVzdGlvbnM6IEFycmF5PHByb21wdHMuUHJvbXB0T2JqZWN0PiA9IFtcbiAge1xuICAgIHR5cGU6IFwidGV4dFwiLFxuICAgIG5hbWU6IFwiZHJvcGxldE5hbWVcIixcbiAgICBtZXNzYWdlOiBcIldoYXQgZG8geW91IHdhbnQgdG8gbmFtZSB5b3VyIGRyb3BsZXQ/XCIsXG4gICAgaW5pdGlhbDogXCJyYW5jaGVyXCIsXG4gIH0sXG5dO1xuXG5jb25zdCByYW5jaGVyQ29uZmlnID0gbmV3IFJhbmNoZXJPU0NvbmZpZygpO1xuXG4oYXN5bmMgKCkgPT4ge1xuICBjb25zdCBhbnN3ZXJzID0gYXdhaXQgcHJvbXB0cyhxdWVzdGlvbnMpO1xuICBjb25zdCBkcm9wbGV0ID0gYXdhaXQgcmFuY2hlckNvbmZpZ1xuICAgIC5zZXROYW1lKGFuc3dlcnMuZHJvcGxldE5hbWUpXG4gICAgLnByb3Zpc2lvbk9uKGNsb3VkUHJvdmlkZXJzLmRpZ2l0YWxPY2Vhbik7XG4gIGNvbnNvbGUubG9nKGRyb3BsZXQpO1xufSkoKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=